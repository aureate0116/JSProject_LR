{"version":3,"sources":["all.js","index.js","resource_list.js"],"names":["init","getResources","goodRate1","document","querySelector","goodRate2","goodRate3","resourcesData","commentsData","axios","get","then","res","data","resources","comments","renderGoodRateList","error","console","log","resultScore","getAverageScore","newResultScoreOjb","combineCommentStar","tabJS","tabHtml","tabPython","forEach","item","index","topic","combineResouorceItem","resourceIdObj","innerHTML","scoreTotal","resourceId","undefined","score","toFixed","newResultScore","resourceIdArr","Object","keys","scoreArr","values","starStr","i","imgUrl","id","title","url","foundation1Basic","foundation2Free","foundation3CN","renderFoundationRecommond","renderFilterResultList","basicStr","freeStr","cnStr","classify","level","price","lang","langItem","resourceItem","filterItemInput","querySelectorAll","newResourcesRenderList","getRenderList","tempRenderList","groupNameArr","addToTempRenderList","filterKeyword","groupName","resItem","resIndex","langth","push","set","Set","filter","has","add","removeFromTempRenderList","length","splice","inputItem","addEventListener","e","target","getAttribute","checked","nameItem","tempItem","filterCheckedArr","filterKeywords","arrItem","resourcesRenderList","langItemStr","checkedItem","type","renderfilterStr","finalRenderList","resultNumber","clearFilterBtn","resourceSort","filterAndSort","filterResultNum","renderNum","topics"],"mappings":"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","file":"all.js","sourcesContent":["// import 'https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js'\n// import './index'\n// import './resource_list'\n\n\n\n/*****************nab tab***************/\n//hover 切換\n// const navItem = document.querySelectorAll(\".goodRate .nav-link\");\n// const tabContent = document.querySelectorAll(\".goodRate .tab-pane\");\n// console.log(navItem);\n// console.log(tabContent);\n\n// navItem.forEach((value,index)=>{\n//   value.addEventListener('mouseover',(e)=>{\n//     console.log(\"tt\",e.target.getAttribute(\"id\"));\n\n//     let labelledby = tabContent[index].getAttribute(\"aria-labelledby\");\n    \n//     //console.log(tabContent[index].classList);\n  \n//     if(e.target.getAttribute(\"id\") == labelledby ){\n//       //console.log(\"yes\");\n//       tabContent[index].classList.add(\"show\");\n//       console.log(tabContent[index].classList);\n\n//     }\n//   })\n\n// })\n\n","//1. 頁面初始化\r\nfunction init(){\r\n    getResources();\r\n    \r\n}\r\ninit();\r\n\r\n\r\n/****************好評推薦********************/\r\nconst goodRate1 = document.querySelector('#goodRate1 > div.row');\r\nconst goodRate2 = document.querySelector('#goodRate2 > div.row');\r\nconst goodRate3 = document.querySelector('#goodRate3 > div.row');\r\n\r\nlet resourcesData = [];\r\nlet commentsData = [];\r\n\r\n//2. 取得資源資料\r\nfunction getResources(){\r\n  axios.get('./json/db.json')\r\n  .then(res=>{\r\n    resourcesData = res.data.resources;\r\n    commentsData = res.data.comments;\r\n    renderGoodRateList();\r\n  \r\n  }).catch(error=>{\r\n    console.log(error);\r\n  })\r\n}\r\n\r\n//3. 渲染好評推薦資料\r\nfunction renderGoodRateList(){\r\n    let resultScore = getAverageScore();\r\n    let newResultScoreOjb = combineCommentStar(resultScore); //newResultScore\r\n  \r\n    let tabJS =\"\";\r\n    let tabHtml=\"\";\r\n    let tabPython=\"\";\r\n  \r\n    resourcesData.forEach( (item,index)=>{\r\n        switch (item.topic){\r\n            case \"JavaScript\" :\r\n                tabJS += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);\r\n\r\n            case \"HTML/CSS\" :\r\n                tabHtml += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);\r\n\r\n            case \"Python\" :\r\n                tabPython += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);\r\n        }\r\n    })\r\n    goodRate1.innerHTML = tabJS;\r\n    //goodRate2.innerHTML = tabHtml;\r\n    //goodRate3.innerHTML = tabPython;\r\n    console.log(tabJS);\r\n}\r\n\r\n\r\n//計算分數\r\nlet scoreTotal = {};  //每筆資源評價 總分\r\nlet resourceIdObj = {}; //每筆資源評價 筆數\r\nlet resultScore = {};  //每筆資源 平均分數(星星數)\r\nfunction getAverageScore(){\r\n  commentsData.forEach(item=>{\r\n      if(resourceIdObj[item.resourceId] === undefined){\r\n          resourceIdObj[item.resourceId] = 1;\r\n          scoreTotal[item.resourceId] = item.score;\r\n          \r\n      }else{\r\n          resourceIdObj[item.resourceId] +=1;\r\n          scoreTotal[item.resourceId] += item.score;\r\n\r\n      }\r\n      resultScore[item.resourceId] = (scoreTotal[item.resourceId] /  resourceIdObj[item.resourceId]).toFixed(1);\r\n  })\r\n  return resultScore;\r\n  //console.log(resultScore);  //1: '4.0', 2: '3.3', 3: '4.5', 4: '2.8'}\r\n}\r\n\r\n\r\n//4. 組星星字串\r\nfunction combineCommentStar(resultScore){\r\n  //評論分數+星星+筆數 HTML\r\n  let newResultScore = {...resultScore};\r\n  let resourceIdArr = Object.keys(newResultScore);  //['1, '2, '3'] \r\n  let scoreArr = Object.values(newResultScore); //['4.0', '3.3', '4.5' ,'2.8'] \r\n\r\n  scoreArr.forEach((item,index)=>{\r\n    let starStr=\"\"; //星星HTML String\r\n    //星星數\r\n    for(let i=1; i<=item[0] ;i++){\r\n      starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>`;\r\n      newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\r\n    }\r\n    \r\n    //半顆星星+空星星  \r\n      if(item[2]<=2){\r\n        for(let i=1; i<=(5-item[0]) ;i++){\r\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li> `;\r\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\r\n        }\r\n        \r\n      }else if(item[2] >=3 && item[2] <=7){\r\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_half</span></li>`;\r\n          for(let i=1; i<=(5-item[0]-1) ;i++){\r\n            starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\r\n          }\r\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\r\n       \r\n      }else if(item[2]>=8){\r\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li`;\r\n        for(let i=1; i<=(5-item[0]-1) ;i++){\r\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\r\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\r\n        }\r\n      }\r\n\r\n  })\r\n  return newResultScore;\r\n}\r\n\r\n//5. 入門推薦組單一資源項目html\r\nfunction combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj){\r\n\r\n  if( item.imgUrl ===\"\"){\r\n    item.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\r\n  }\r\n\r\n  if(resultScore[`${index+1}`]===undefined || newResultScoreOjb[item.id]=== undefined || resourceIdObj[`${index+1}`]=== undefined ){\r\n\r\n    return  `\r\n    <div class=\"col-lg-2 col-md-4 col-6\">\r\n    <div>\r\n        <p class=\"text-center\">\r\n            <a href=\"./resource.html\" target=\"_blank\">\r\n            <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"/></a></p>\r\n        <div class=\"p-2\">\r\n            <h4 class=\"fs-7\"><a href=\"${item.url}\" target=\"_blank\"> ${item.title}</a></h4>\r\n            <div class=\"d-flex flex-wrap justify-content-between align-items-center\">                             \r\n                <span class=\"fs-8\"> 尚無評價 </span>\r\n            </div>\r\n  \r\n        </div>\r\n    </div>\r\n    </div>\r\n    `;\r\n  }else{\r\n    return  `\r\n      <div class=\"col-lg-2 col-md-4 col-6\">\r\n      <div>\r\n          <p class=\"text-center\">\r\n              <a href=\"./resource.html\" target=\"_blank\">\r\n              <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"/></a></p>\r\n          <div class=\"p-2\">\r\n              <h4 class=\"fs-7\"><a href=\"${item.url}\" target=\"_blank\"> ${item.title}</a></h4>\r\n\r\n              <div class=\"d-flex flex-wrap justify-content-between align-items-center\">\r\n                  <span class=\"fs-7 fw-bold me-lg-2\"> ${resultScore[`${index+1}`]}</span>\r\n                  <ul class=\"d-flex align-items-center lh-1 me-lg-2\">\r\n                  ${newResultScoreOjb[item.id]}\r\n                  </ul>                                \r\n                  <span class=\"fs-8\">(${resourceIdObj[`${index+1}`]})</span>\r\n              </div>\r\n\r\n          </div>\r\n      </div>\r\n      </div>\r\n      `;\r\n  }\r\n      \r\n}","\n//1. 頁面初始化\nfunction init(){\n  getResources();\n    \n}\ninit();\n\n\n/*****************入門推薦 ***************/\n\nconst foundation1Basic = document.querySelector('#foundation1Basic > div.row');\nconst foundation2Free = document.querySelector('#foundation2Free > div.row');\nconst foundation3CN = document.querySelector('#foundation3CN > div.row');\n\nlet resourcesData = [];\nlet commentsData = [];\n\n//2. 取得資料\nfunction getResources(){\n  axios.get('./json/db.json')\n  .then(res=>{\n    resourcesData = res.data.resources;\n    commentsData = res.data.comments;\n    renderFoundationRecommond();\n    renderFilterResultList();\n    //getAverageScore();\n    //filterAndSort();\n  \n  }).catch(error=>{\n    console.log(error);\n  })\n}\n\n\n//3. 渲染入門推薦資料\nfunction renderFoundationRecommond(){\n\n  let resultScore = getAverageScore();\n  let newResultScoreOjb = combineCommentStar(resultScore); //newResultScore\n\n  //組各tab render HTML\n  let basicStr =\"\";\n  let freeStr=\"\";\n  let cnStr=\"\";\n\n  resourcesData.forEach( (item,index)=>{\n        if(item.classify.level === \"初階\"){\n            basicStr += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);\n        }\n        \n        if(item.classify.price === \"免費\"){\n          freeStr += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);  \n        }\n        \n        item.classify.lang.forEach(langItem=>{\n          if(langItem === \"繁體中文\"){\n            cnStr += combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj);\n          }\n        })\n\n  })\n  //console.log(basicStr);\n  // console.log(freeStr);\n  // console.log(cnStr);\n  foundation1Basic.innerHTML = basicStr;\n  foundation2Free.innerHTML = freeStr;\n  foundation3CN.innerHTML = cnStr;\n\n}\n\n//計算分數\nlet scoreTotal = {};  //每筆資源評價 總分\nlet resourceIdObj = {}; //每筆資源評價 筆數\nlet resultScore = {};  //每筆資源 平均分數(星星數)\nfunction getAverageScore(){\n  commentsData.forEach(item=>{\n      if(resourceIdObj[item.resourceId] === undefined){\n          resourceIdObj[item.resourceId] = 1;\n          scoreTotal[item.resourceId] = item.score;\n          \n      }else{\n          resourceIdObj[item.resourceId] +=1;\n          scoreTotal[item.resourceId] += item.score;\n\n      }\n      resultScore[item.resourceId] = (scoreTotal[item.resourceId] /  resourceIdObj[item.resourceId]).toFixed(1);\n  })\n  return resultScore;\n  //console.log(resultScore);  //1: '4.0', 2: '3.3', 3: '4.5', 4: '2.8'}\n}\n\n\n//4. 組星星字串\nfunction combineCommentStar(resultScore){\n  //評論分數+星星+筆數 HTML\n  let newResultScore = {...resultScore};\n  let resourceIdArr = Object.keys(newResultScore);  //['1, '2, '3'] \n  let scoreArr = Object.values(newResultScore); //['4.0', '3.3', '4.5' ,'2.8'] \n\n  scoreArr.forEach((item,index)=>{\n    let starStr=\"\"; //星星HTML String\n    //星星數\n    for(let i=1; i<=item[0] ;i++){\n      starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>`;\n      newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n    }\n    \n    //半顆星星+空星星  \n      if(item[2]<=2){\n        for(let i=1; i<=(5-item[0]) ;i++){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li> `;\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n        }\n        \n      }else if(item[2] >=3 && item[2] <=7){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_half</span></li>`;\n          for(let i=1; i<=(5-item[0]-1) ;i++){\n            starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\n          }\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n       \n      }else if(item[2]>=8){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li`;\n        for(let i=1; i<=(5-item[0]-1) ;i++){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n        }\n      }\n\n  })\n  return newResultScore;\n}\n\n//5. 入門推薦組單一資源項目html\nfunction combineResouorceItem(item,index,resultScore,newResultScoreOjb,resourceIdObj){\n\n  if( item.imgUrl ===\"\"){\n    item.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\n  }\n\n  if(resultScore[`${index+1}`]===undefined || newResultScoreOjb[item.id]=== undefined || resourceIdObj[`${index+1}`]=== undefined ){\n\n    return  `\n    <div class=\"col-lg-2 col-md-4 col-6\">\n    <div>\n        <p class=\"text-center\">\n            <a href=\"./resource.html\" target=\"_blank\">\n            <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"/></a></p>\n        <div class=\"p-2\">\n            <h4 class=\"fs-7\"><a href=\"${item.url}\" target=\"_blank\"> ${item.title}</a></h4>\n            <div class=\"d-flex flex-wrap justify-content-between align-items-center\">                             \n                <span class=\"fs-8\"> 尚無評價 </span>\n            </div>\n  \n        </div>\n    </div>\n    </div>\n    `;\n  }else{\n    return  `\n      <div class=\"col-lg-2 col-md-4 col-6\">\n      <div>\n          <p class=\"text-center\">\n              <a href=\"./resource.html\" target=\"_blank\">\n              <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"/></a></p>\n          <div class=\"p-2\">\n              <h4 class=\"fs-7\"><a href=\"${item.url}\" target=\"_blank\"> ${item.title}</a></h4>\n\n              <div class=\"d-flex flex-wrap justify-content-between align-items-center\">\n                  <span class=\"fs-7 fw-bold me-lg-2\"> ${resultScore[`${index+1}`]}</span>\n                  <ul class=\"d-flex align-items-center lh-1 me-lg-2\">\n                  ${newResultScoreOjb[item.id]}\n                  </ul>                                \n                  <span class=\"fs-8\">(${resourceIdObj[`${index+1}`]})</span>\n              </div>\n\n          </div>\n      </div>\n      </div>\n      `;\n  }\n      \n}\n\n//判斷圖片處理\n\n\n//圖片顯示比例問題 \n\n\n/***************** 相關主題 ***************/\n\n\n\n/***************** 資源篩選 ***************/\n\nconst resourceItem = document.querySelector('.resourceItem');\n// const filter = document.querySelector('.filter');\nconst filterItemInput = document.querySelectorAll('.filterItem > input');  \n\n\n\n// final 渲染清單\nlet newResourcesRenderList = getRenderList(resourcesData);\n// let newResourcesRenderList = [];\n\n//1. checked 監聽 : 取得 checked 清單的關鍵字 + render\n\n\n/************************暫時新增************************************* */\n\nlet tempRenderList = [];\nlet groupNameArr=[];  // ['type', 'type', 'level']\n//let checkedKeyWords =[]; //\n\n\n//比對resourcesData原始資料, 符合條件的加入 tempRenderList \nfunction addToTempRenderList(filterKeyword,groupName){\n  resourcesData.forEach((resItem,resIndex)=>{\n    if(resItem.classify.lang.langth===1){\n      if(filterKeyword === resItem.classify[groupName] || \n        filterKeyword === resItem.classify.lang[0] ){\n          tempRenderList.push(resItem);\n          groupNameArr.push(groupName); \n          //checkedKeyWords.push(filterKeyword);\n      }\n    }else{\n      resItem.classify.lang.forEach(langItem=>{\n         if(filterKeyword === resItem.classify[groupName] ||\n           filterKeyword === langItem ){\n             tempRenderList.push(resItem);\n             groupNameArr.push(groupName); \n            // checkedKeyWords.push(filterKeyword);\n         }\n       })   \n    }\n\n    //每次加完先去除重複項目\n    const set = new Set();\n    tempRenderList = tempRenderList.filter((item) => {\n      return (!set.has(item.id) ? set.add(item.id) : false)\n    });\n\n    groupNameArr = groupNameArr.filter((item) => {\n      return (!set.has(item) ? set.add(item) : false)\n    });\n\n\n  })\n  console.log(\"tempRenderList\");\n  console.log(tempRenderList);\n  console.log(\"groupNameArr\");\n  console.log(groupNameArr);\n}\n\n\nfunction removeFromTempRenderList(filterKeyword,groupName){\n\n  //1. 同 groupName 情況\n  tempRenderList.forEach((resItem,resIndex)=>{\n\n    // console.log(\"groupName\",groupName);  //lang\n    // console.log(\"filterKeyword\",filterKeyword); //繁體中文\n\n    if(groupName === \"lang\"){\n      // console.log(resItem.classify.lang.length); \n      if(resItem.classify.lang.length===1){\n        if(filterKeyword === resItem.classify.lang[0] ){\n          tempRenderList.splice(resIndex,1);\n        }\n\n      }else{\n        //如果 lang 有多筆\n        resItem.classify.lang.forEach(langItem=>{\n          if(filterKeyword === langItem){\n            tempRenderList.splice(resIndex,1);\n          }\n          // tempRenderList = tempRenderList.filter(item=>{\n\n          //   return  langItem != filterKeyword;\n          // })\n        })\n\n        // tempRenderList = tempRenderList.filter(item=>{\n        //     item.classify.lang.forEach(langItem=>{\n        //       return  langItem != filterKeyword;\n        //     })\n        // })\n      }\n\n    }else if(filterKeyword === resItem.classify[groupName]){\n      tempRenderList = tempRenderList.filter(item=>{\n        return item.classify[groupName] != filterKeyword;\n      })\n    }\n\n   \n      \n      // if(groupName === \"lang\"){\n      //     if(resItem.classify.lang.length===1){\n      //       tempRenderList = tempRenderList.filter(item=>{\n      //         return item.classify.lang[0] != filterKeyword;\n      //       })\n      //     }\n      //     // else{\n      //     //   resItem.classify.lang.forEach(langItem=>{\n      //     //     tempRenderList = tempRenderList.filter(item=>{\n      //     //       return langItem != filterKeyword;\n      //     //     })\n      //     //   })\n      //     // }\n      // }else{\n         \n      // }\n    \n\n    // if(resItem.classify.lang.langth===1){\n    //   if(filterKeyword === resItem.classify.type ||\n    //     filterKeyword === resItem.classify.level ||\n    //     filterKeyword === resItem.classify.price ||  \n    //     filterKeyword === resItem.classify.lang[0] ){\n\n    //       tempRenderList.splice(resItem,1);\n    //       groupNameArr.splice(groupName,1); \n\n    //   }\n    // }\n    // else{\n    //   resItem.classify.lang.forEach(langItem=>{\n    //      if(filterKeyword === resItem.classify.type ||\n    //        filterKeyword === resItem.classify.level ||\n    //        filterKeyword === resItem.classify.price ||  \n    //        filterKeyword === langItem ){\n\n    //          tempRenderList.splice(resItem,1);\n    //          groupNameArr.splice(groupName,1); \n    //      }\n    //    })   \n    // }\n    // console.log(\"tempRenderList\");\n    // console.log(tempRenderList);\n    // console.log(\"groupNameArr\");\n    // console.log(groupNameArr);\n  })\n}\n\nfilterItemInput.forEach((inputItem,index)=>{\n  inputItem.addEventListener(\"change\",e=>{\n    \n    let filterKeyword = e.target.getAttribute(\"name\"); \n    let groupName = e.target.getAttribute(\"data-group\");\n    console.log(filterKeyword,groupName);\n\n    if (e.target.checked) {\n      //1. 檢查是否為第一筆資料 (即第一個checked 項目)\n      if(tempRenderList.length === 0 && groupNameArr.length === 0){\n        //比對resourcesData原始資料, 符合條件的加入 tempRenderList \n        addToTempRenderList(filterKeyword,groupName);\n        \n      }else{\n        groupNameArr.forEach(nameItem=>{\n          // if(groupName===nameItem){\n          //   addToTempRenderList(filterKeyword,groupName);\n          // }else{\n          //   tempRenderList.forEach(tempItem=>{\n          //       if(groupName==\"lang\"){\n          //           if(tempItem.classify.lang.length === 1 &&\n          //             filterKeyword !== tempItem.classify.lang[0]){\n          //                 tempRenderList.splice(tempItem,1);\n          //                 groupNameArr.push(groupName); \n          //           }\n          //       }else if(filterKeyword !== tempItem.classify[groupName]){\n        \n          //           tempRenderList.splice(tempItem,1);\n          //           groupNameArr.push(groupName); \n\n          //       }\n          //   })\n          // }\n          /****************上面是原本寫法***************88 */\n          // if(groupName===nameItem){\n          //     if(groupName==\"lang\"){\n              \n          //       //addToTempRenderList(filterKeyword,groupName);\n          //     }else{\n          //       addToTempRenderList(filterKeyword,groupName);\n          //     }\n          // }\n\n          if(groupName===nameItem){\n            addToTempRenderList(filterKeyword,groupName);\n          }else{\n            tempRenderList.forEach(tempItem=>{\n                if(groupName==\"lang\"){\n                    if(tempItem.classify.lang.length === 1){\n                      if(filterKeyword !== tempItem.classify.lang[0]){\n                          tempRenderList.splice(tempItem,1);    \n                      }  \n                    }else{\n                      tempItem.classify.lang.forEach(langItem=>{\n                        console.log(\"langItem\");\n                        console.log(langItem);\n                        console.log(\"tempItem\");\n                        console.log(tempItem);\n                        console.log(\"filterKeyword\");\n                        console.log(filterKeyword);\n                        // if(filterKeyword !== langItem){\n                        //   tempRenderList.splice(tempItem,1);\n                        // }\n                        tempRenderList = tempRenderList.filter(item=>{\n                          return langItem !== filterKeyword ;\n                        })\n                      })\n                    }\n                }else{\n                  if(filterKeyword !== tempItem.classify[groupName]){\n                    tempRenderList.splice(tempItem,1);\n                    \n                  }\n                }\n                groupNameArr.push(groupName);\n            })\n          }\n\n          console.log(\"tempRenderList\");\n          console.log(tempRenderList);\n          console.log(\"groupNameArr\");\n          console.log(groupNameArr);\n        }) //end groupNameArr forEach\n      }\n      \n    } else{\n      //checked == false\n      //補 groupNameArr tempRenderList 去除重複 \n      //removeFromTempRenderList(filterKeyword,groupName);\n      //console.log(\"tempRenderList\");\n      //console.log(tempRenderList);\n    }\n\n  })\n\n})\n\n\n\n\n/************************end 暫時新增************************************* */\n\n\n\n/************************暫時隱藏************************************* */\nlet filterCheckedArr=[];\nfilterItemInput.forEach((item,index)=>{\n  item.addEventListener(\"change\",e=>{\n    if (e.target.checked) {\n      let filterKeywords = item.getAttribute(\"name\");\n      filterCheckedArr.push(filterKeywords);\n    } else {\n      filterCheckedArr.forEach((arrItem,i)=>{\n          if(arrItem==item.getAttribute(\"name\")){\n            filterCheckedArr.splice(i,1);\n          }\n        })\n    }\n    console.log(\"filterCheckedArr\");\n    console.log(filterCheckedArr);\n    getRenderList(resourcesData);\n    renderFilterResultList();\n  })\n})\n\n\nfunction getRenderList(resourcesData){\n  //console.log(resourcesData);\n  //2. 比對關鍵字filterCheckedArr & resourcesData 取得要 render 的清單先放進 resourcesRenderList\n  let resourcesRenderList = [];\n  resourcesData.forEach(item=>{  \n    let langItemStr=\"\";  //取得 lang 陣列中的文字\n    item.classify.lang.forEach(langItem=>{  \n        langItemStr = langItem;\n        filterCheckedArr.forEach(checkedItem=>{    \n\n          if(item.classify.type === checkedItem ||\n            item.classify.level === checkedItem ||\n            item.classify.price === checkedItem ||\n            langItemStr === checkedItem\n          ){\n              resourcesRenderList.push(item);\n              // console.log(\"resourcesRenderList\")\n              // console.log(resourcesRenderList)\n          }     \n        })\n    })\n  })\n\n  //3. 去除 resourcesRenderList 重複 id 項目\n  const set = new Set();\n  newResourcesRenderList = resourcesRenderList.filter((item) => {\n    //return (!set1.has(item.id) ? set1.add(item.id) : false)\n    //如果陣列中沒有該項目, 就加入陣列\n    if(!set.has(item.id)){  \n      return set.add(item.id)\n    }else {\n      return false;\n    }\n  });\n  console.log(\"newResourcesRenderList\");\n  console.log(newResourcesRenderList);\n  // return newResourcesRenderList;\n  //renderFilterResultList();\n}  // end getRenderList(resourcesData)\n\n/************************暫時隱藏*************************************88 */\n\n\n//把 resourcesData 裡符合  filterCheckedArr 條件的項目丟進 resourcesRenderList \nfunction renderFilterResultList(){\n  // n 個結果結果\n  //filterAndSort();\n\n  getRenderList(resourcesData); //取得 final 渲染清單 newResourcesRenderList\n  //每一次checked有異動, 就重新取得要渲染的清單\n  // console.log(\"newResourcesRenderList\");\n  // console.log(newResourcesRenderList);\n  // console.log(newResourcesRenderList.length);\n \n  //取得分數\n  // let resultScore2 = getAverageScore();\n  // let newResultScoreOjb2 = combineCommentStar(resultScore2); \n\n  let renderfilterStr=\"\";\n  let finalRenderList = \"\";\n  if(newResourcesRenderList.length==0){\n    finalRenderList = resourcesData;\n  }else{\n    finalRenderList = newResourcesRenderList;\n  }\n\n  // console.log(\"renderfilterStr\");\n  // console.log(renderfilterStr);\n\n  //渲染資源\n  finalRenderList.forEach(item=>{\n    renderfilterStr +=`<div class=\"row my-3 \">\n    <div class=\"col-2 \">\n        <img src=\"${item.imgUrl}\" alt=\"${item.title}\">   \n    </div>\n      <div class=\"col-6\">\n          <h4 class=\"fs-7\">${item.title}</h4>\n          <div class=\"d-flex flex-wrap align-items-center\">\n              <span class=\"fs-7 fw-bold me-lg-2\">??</span>\n              <ul class=\"d-flex align-items-center lh-1 me-lg-2\">\n                  <li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>\n                  <li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>\n                  <li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>\n                  <li><span class=\"material-icons material-icons-sharp fs-8\">star_half</span></li>\n                  <li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>\n              </ul>                                \n              <span class=\"fs-8\">(35)</span>\n              <p>${item.classify.type}, ${item.classify.level} , ${item.classify.price}, ${item.classify.lang} </p>\n          </div>\n      </div>\n      <div class=\"col-4\">\n          <div class=\"d-flex flex-column align-items-end\">\n              <button type=\"button\" class=\"btn btn-tiffany my-2 w-75\">前往資源</button>\n              <button type=\"button\" class=\"btn btn-yellowBrown w-75 my-2\">查看評論</button>\n          </div>\n      </div>\n    </div>\n        `;\n  })\n  \n  \n\n  resourceItem.innerHTML = renderfilterStr;\n\n\n}\n\n\n/***************************************8 */\n\n\n\n\n\n\n/***************** n 筆結果 / 清除篩選 / 排序 ***************/\n\nconst resultNumber = document.querySelector('.resultNumber');\nconst clearFilterBtn = document.querySelector('#clearFilterBtn');\nconst resourceSort = document.querySelector('#resourceSort');\n\nfunction filterAndSort(){\n  let filterResultNum = newResourcesRenderList.length;\n  let renderNum = 0;\n  //console.log(filterResultNum);\n  if(filterResultNum == 0){\n    resourcesData.forEach(item=>{\n      if(item.topics==\"JavaScript\"){\n        renderNum +=1;\n      }\n    })\n\n    filterResultNum = renderNum; \n\n    //clearFilterBtn.textContent = \"\";  //清除篩選結果按鈕文字\n\n  }\n // resultNumber.textContent = `${filterResultNum}個結果`;\n\n\n  clearFilterBtn.addEventListener(\"click\",e=>{\n    \n  })\n\n}\n\n\n"]}