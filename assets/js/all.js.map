{"version":3,"sources":["all.js","comment.js","config.js","index.js","resource.js","resource_list.js","timestamp.js"],"names":["url","locationHref","location","href","split","resTopic","resId","pageClassify","initIndex","getResourcesForIndex","undefined","goodRate1","document","querySelector","goodRate2","goodRate3","goodRate1Tab","goodRate2Tab","goodRate3Tab","resourceType1","resourceType2","resourceType3","resource1Tab","resource2Tab","resource3Tab","resourcesData","commentsData","axios","get","then","res","data","renderGoodRateList","renderNewFreeList","error","console","log","getCommentForIndex","commentScoreNum","getAverageScore","resultScore","commentNum","starStr","combineCommentStar","itemNum1","itemNum2","itemNum3","renderMaxNum","tabJS","tabHtml","tabPython","forEach","item","topics","combineResouorceItemType1","setAttribute","innerHTML","imgUrl","id","title","tabOnline","tabOffline","tabArticle","price","type","combineResouorceItem","initResourcePage","getResourcesForResources","getCommentData","getResourcesItem","getResourcesComment","renderRelatedResource","resourceContent","resourceCommentData","renderResource","renderComment","imageNBrief","titleBox","btnBox","renderItem","userName","user","role","lastName","firstName","imageNBriefStr","titleBoxStr","btnBoxStr","level","lang","intro","commentList","commentStr","length","btnReadMore","score","newResultScoreOjb","commentTimeAge","Ftime","commentTime","content","likeNum","dislikeNum","relatedResource","relatedStr","renderNum","resItem","initResourceList","bannerBlockTitle","textContent","foundation1Basic","foundation2Free","foundation3CN","thisTopicData","filter","renderFoundationRecommond","renderFilterResultList","basicStr","freeStr","cnStr","index","langItem","scoreTotal","resourceIdObj","resourceId","toFixed","newResultScore","resourceIdArr","Object","keys","scoreArr","values","i","resourceItem","filterItemInput","querySelectorAll","checkObj","renderList","addEventListener","e","filterKeyword","getAttribute","groupName","target","checked","push","hasType","hasLevel","hasPrice","checkLang","includes","some","str","renderfilterStr","combineResouorceItemType2","resultNumber","clearBtnText","clearFilter","clearFilterBtn","resourceSort","timespan","dateTime","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","now","parse","milliseconds","timeSpanStr","Math","ceil"],"mappings":"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","file":"all.js","sourcesContent":["// let commentsData = [];\n// function getAllComment(){\n//     axios.get(`${url}/comments`)\n//     .then(res=>{\n//         commentsData = res.data;\n//         console.log(commentsData);\n    \n//     }).catch(error=>{\n//       console.log(error);\n//     })\n// }\n\n\n/*****************nab tab***************/\n//hover 切換\n// const navItem = document.querySelectorAll(\".goodRate .nav-link\");\n// const tabContent = document.querySelectorAll(\".goodRate .tab-pane\");\n// console.log(navItem);\n// console.log(tabContent);\n\n// navItem.forEach((value,index)=>{\n//   value.addEventListener('mouseover',(e)=>{\n//     console.log(\"tt\",e.target.getAttribute(\"id\"));\n\n//     let labelledby = tabContent[index].getAttribute(\"aria-labelledby\");\n    \n//     //console.log(tabContent[index].classList);\n  \n//     if(e.target.getAttribute(\"id\") == labelledby ){\n//       //console.log(\"yes\");\n//       tabContent[index].classList.add(\"show\");\n//       console.log(tabContent[index].classList);\n\n//     }\n//   })\n\n// })\n\n\n","","const url=\"http://localhost:3000\";\r\n// const url=\"./json/db.json\"\r\n// const url=\"http://localhost:3000/users\"\r\n// const url=\"http://localhost:3000/resources\"\r\n// const url=\"http://localhost:3000/bookmarks\"\r\n// const url=\"http://localhost:3000/comments\"\r\n","let locationHref = location.href.split(\"/\");\r\nlet resTopic = location.href.split(\"=\")[1];\r\nlet resId = location.href.split(\"=\")[1];\r\nlet pageClassify = locationHref[3].split(\".html\")[0];\r\n\r\n\r\n// let resTopicNew = resTopic.split(\" \");\r\n// console.log(resTopic);\r\n// console.log(\"pageClassify\",pageClassify);\r\n// console.log(\"locationHref\",locationHref);\r\n\r\n//1. 頁面初始化\r\nfunction initIndex(){\r\n    getResourcesForIndex();\r\n    if(pageClassify==\"resource\"){\r\n        if(resId == undefined){\r\n            location.href = `./index.html`;\r\n        }\r\n    }\r\n    else if(pageClassify==\"resource_list\"){\r\n        if(resTopic == undefined){\r\n            location.href = `./index.html`;\r\n        }\r\n    }\r\n}\r\ninitIndex();\r\n\r\n//好評推薦\r\nconst goodRate1 = document.querySelector('#goodRate1 > div.row');\r\nconst goodRate2 = document.querySelector('#goodRate2 > div.row');\r\nconst goodRate3 = document.querySelector('#goodRate3 > div.row');\r\nconst goodRate1Tab = document.querySelector('#goodRate1-tab');\r\nconst goodRate2Tab = document.querySelector('#goodRate2-tab');\r\nconst goodRate3Tab = document.querySelector('#goodRate3-tab');\r\n\r\n//最新免費資源\r\nconst resourceType1 = document.querySelector('#resourceType1 > div.row');\r\nconst resourceType2 = document.querySelector('#resourceType2 > div.row');\r\nconst resourceType3 = document.querySelector('#resourceType3 > div.row');\r\nconst resource1Tab = document.querySelector('#resource1-tab');\r\nconst resource2Tab = document.querySelector('#resource2-tab');\r\nconst resource3Tab = document.querySelector('#resource3-tab');\r\n\r\n\r\nlet resourcesData = [];\r\nlet commentsData = [];\r\n\r\n//取得資源資料\r\nfunction getResourcesForIndex(){\r\n  axios.get(`${url}/resources`)\r\n  .then(res=>{\r\n    resourcesData = res.data;\r\n    renderGoodRateList();\r\n    renderNewFreeList();\r\n  \r\n  }).catch(error=>{\r\n    console.log(error);\r\n  })\r\n}\r\n\r\nfunction getCommentForIndex(){\r\n    axios.get(`${url}/comments`)\r\n    .then(res=>{\r\n      commentsData = res.data;\r\n    \r\n    }).catch(error=>{\r\n      console.log(error);\r\n    })\r\n}\r\n\r\n//渲染好評推薦資料\r\nfunction renderGoodRateList(){\r\n    let commentScoreNum = getAverageScore();\r\n    let resultScore = commentScoreNum[0];\r\n    let commentNum = commentScoreNum[1];\r\n    let starStr = combineCommentStar(resultScore); \r\n\r\n    let itemNum1 = 0;\r\n    let itemNum2 = 0;\r\n    let itemNum3 = 0;\r\n    let renderMaxNum = 6;\r\n    let tabJS =\"\";\r\n    let tabHtml=\"\";\r\n    let tabPython=\"\";\r\n\r\n    resourcesData.forEach( (item)=>{\r\n        // console.log(\"resultScore\");\r\n        // console.log(resultScore);\r\n        switch (item.topics){\r\n            case \"JavaScript\" :\r\n                if(itemNum1 <renderMaxNum){\r\n                    tabJS += combineResouorceItemType1(item,resultScore,starStr,commentNum);\r\n                   itemNum1 +=1;\r\n                }\r\n                break;\r\n\r\n            case \"HTML/CSS\" :\r\n                if(itemNum2 < renderMaxNum){\r\n                    tabHtml += combineResouorceItemType1(item,resultScore,starStr,commentNum);\r\n                    itemNum2+=1;\r\n                }\r\n                break;\r\n\r\n            case \"Python\" :\r\n                if(itemNum3 < renderMaxNum){\r\n                     tabPython += combineResouorceItemType1(item,resultScore,starStr,commentNum);\r\n                itemNum3+=1\r\n                }\r\n               \r\n                break;\r\n        }\r\n    })\r\n\r\n    if(goodRate1 !==null ){\r\n        if(tabJS==\"\"){\r\n            goodRate1Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n        goodRate1.innerHTML = tabJS;\r\n    }\r\n    if(goodRate2 !==null ){\r\n        if(tabHtml==\"\"){\r\n            goodRate2Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n        goodRate2.innerHTML = tabHtml;\r\n    }\r\n    if(goodRate3 !==null ){\r\n        if(tabPython==\"\"){\r\n            goodRate3Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n        goodRate3.innerHTML = tabPython;\r\n    }\r\n\r\n}\r\n\r\n\r\n//組單一資源項目html - type 1\r\nfunction combineResouorceItemType1(item,resultScore,starStr,commentNum){\r\n\r\n  if( item.imgUrl ===\"\"){\r\n    item.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\r\n  }\r\n\r\n  if(resultScore[item.id]===undefined || starStr[item.id]=== undefined || commentNum[item.id]=== undefined ){\r\n\r\n    return  `\r\n    <div class=\"col-md-6 col-lg-4\">\r\n    <div class=\"d-flex p-2 align-items-center\">\r\n        <div class=\"row\">\r\n            <div class=\"col-6\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"><img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"></a></div>\r\n            \r\n            <div class=\"col-6\">\r\n                <h4 class=\"ellipsis\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"> ${item.title}</a></h4>\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                尚無評價\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n         \r\n        \r\n    </div>\r\n    </div>\r\n    `;\r\n  }else{\r\n    return  `\r\n    <div class=\"col-md-6 col-lg-4\">\r\n    <div class=\"d-flex p-2 align-items-center\">\r\n        <div class=\"row\">\r\n            <div class=\"col-6\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"><img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"></a></div>\r\n\r\n            <div class=\"col-6\">\r\n                <h4 class=\"ellipsis\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"> ${item.title}</a></h4>\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                    <span class=\"fs-6 fw-bold\"> ${resultScore[item.id]}</span>\r\n                    <ul class=\"d-flex align-items-center lh-1\">\r\n                    ${starStr[item.id]}\r\n                    </ul>                                \r\n                    <span class=\"fs-7\">(${commentNum[item.id]})</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n    </div>`;\r\n  }\r\n      \r\n}\r\n\r\n//渲染最新免費資源\r\nfunction renderNewFreeList(){\r\n    let commentScoreNum = getAverageScore();\r\n    let resultScore = commentScoreNum[0];\r\n    let commentNum = commentScoreNum[1];\r\n    let starStr = combineCommentStar(resultScore);\r\n\r\n    let tabOnline =\"\";\r\n    let tabOffline=\"\";\r\n    let tabArticle=\"\";\r\n\r\n    resourcesData.forEach( (item)=>{\r\n        if(item.price===\"免費\"){\r\n            if(item.type===\"線上課程\"){\r\n                tabOnline += combineResouorceItem(item,resultScore,starStr,commentNum);\r\n            }\r\n\r\n            if(item.type===\"實體課程\"){\r\n                tabOffline += combineResouorceItem(item,resultScore,starStr,commentNum);\r\n            }\r\n\r\n            if(item.type===\"文章\"){\r\n                tabArticle += combineResouorceItem(item,resultScore,starStr,commentNum);\r\n            }\r\n        }\r\n \r\n    })\r\n\r\n    if(resourceType1 !==null ){\r\n        resourceType1.innerHTML = tabOnline;\r\n        if(tabOnline==\"\"){\r\n            resource1Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n    }\r\n    if(resourceType2 !==null ){\r\n        resourceType2.innerHTML = tabOffline;\r\n        if(tabOffline==\"\"){\r\n            resource2Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n    }\r\n    if(resourceType3 !==null ){\r\n        resourceType3.innerHTML = tabArticle;\r\n        if(tabArticle==\"\"){\r\n            resource3Tab.setAttribute(\"class\", \"d-none\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","let resId = location.href.split(\"=\")[1];\r\n\r\nfunction initResourcePage(){\r\n    getResourcesForResources();\r\n    getCommentData();\r\n    getResourcesItem(resId);\r\n    getResourcesComment(resId);\r\n}\r\ninitResourcePage();\r\n\r\nlet resourcesData = [];\r\nlet commentsData = [];\r\n\r\n//2. 取得資料\r\nfunction getResourcesForResources(){\r\n  axios.get(`${url}/resources`)\r\n  .then(res=>{\r\n    resourcesData = res.data;\r\n    //getCommentData();\r\n    renderRelatedResource();\r\n\r\n  }).catch(error=>{\r\n    console.log(error);\r\n  })\r\n}\r\n\r\nfunction getCommentData(){\r\n  axios.get(`${url}/comments`)\r\n  .then(res=>{\r\n    commentsData = res.data; \r\n    renderRelatedResource();\r\n  }).catch(error=>{\r\n    console.log(error);\r\n  })\r\n}\r\n\r\n\r\nlet resourceContent=[];\r\nlet resourceCommentData=[];\r\n\r\nfunction getResourcesItem(id){\r\n    axios.get(`${url}/resources?id=${id}&_expand=user`)\r\n    .then(res=>{\r\n        resourceContent = res.data;\r\n        renderResource();\r\n        renderRelatedResource();\r\n    \r\n    }).catch(error=>{\r\n      console.log(error);\r\n    })\r\n}\r\n\r\nfunction getResourcesComment(id){\r\n    axios.get(`${url}/comments?_expand=resouceId&&resourceId=${id}&&_expand=user`)\r\n    .then(res=>{\r\n        resourceCommentData = res.data;\r\n        renderResource();\r\n        renderComment();\r\n\r\n    }).catch(error=>{\r\n      console.log(error);\r\n    })\r\n}\r\n\r\n/******************資源資訊***********************/\r\n\r\nconst imageNBrief = document.querySelector('.imageNBrief');\r\nconst titleBox = document.querySelector('.titleBox');\r\nconst btnBox = document.querySelector('.btnBox');\r\n\r\n\r\nfunction renderResource(){\r\n    let renderItem=resourceContent[0];\r\n    let userName =\"\";\r\n\r\n    if(renderItem!==undefined){\r\n        if( renderItem.user.role===\"admin\"){\r\n            userName = \"admin\"\r\n        }else{\r\n            userName =`${renderItem.user.lastName} ${renderItem.user.firstName} `;\r\n        }\r\n\r\n        let commentScoreNum = getAverageScore();\r\n        let resultScore = commentScoreNum[0];\r\n        let commentNum = commentScoreNum[1];\r\n        let starStr = combineCommentStar(resultScore);\r\n\r\n        let imageNBriefStr=\"\";\r\n        let titleBoxStr=\"\";\r\n        let btnBoxStr=\"\";\r\n\r\n        if( renderItem.imgUrl ===\"\"){\r\n            renderItem.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\r\n        }\r\n\r\n        if(resultScore[resId]===undefined || starStr[resId]=== undefined ){\r\n            titleBoxStr = `<h2 class=\"fs-5 fw-bold mt-md-0 mt-3\">${renderItem.title}</h2>\r\n            <div class=\"d-flex flex-wrap align-items-center text-secondary\">\r\n                <span class=\"fs-8 fw-bold me-lg-2\">尚無評價</span>\r\n            </div>\r\n            <div class=\"classify fs-7\">\r\n                <ul class=\"d-flex \">\r\n                    <li class=\"me-2\">  ${renderItem.topics}</li>\r\n                    <li class=\"me-2\">  ${renderItem.type}</li>\r\n                    <li class=\"me-2\">  ${renderItem.level}</li>\r\n                    <li class=\"me-2\">  ${renderItem.price}</li>\r\n                </ul>\r\n                <ul>\r\n                    <li class=\"me-2\">  ${renderItem.lang} </li>\r\n                    <li class=\"me-2\">建立者 : ${userName} </li>\r\n                </ul>\r\n            </div>`;\r\n        }else{\r\n            titleBoxStr = `<h2 class=\"fs-5 fw-bold mt-md-0 mt-3\">${renderItem.title}</h2>\r\n            <div class=\"d-flex flex-wrap align-items-center text-secondary\">\r\n                <span class=\"fs-5 fw-bold me-lg-2\"> ${resultScore[resId]}</span>\r\n                <ul class=\"d-flex align-items-center lh-1 me-lg-2\">\r\n                ${starStr[resId]}\r\n                </ul>                                \r\n                <span class=\"fs-8\">(${commentNum[resId]})</span>\r\n            </div>\r\n            <div class=\"classify fs-7\">\r\n                <ul class=\"d-flex \">\r\n                    <li class=\"me-2\">  ${renderItem.topics}</li>\r\n                    <li class=\"me-2\">  ${renderItem.type}</li>\r\n                    <li class=\"me-2\">  ${renderItem.level}</li>\r\n                    <li class=\"me-2\">  ${renderItem.price}</li>\r\n                </ul>\r\n                <ul>\r\n                    <li class=\"me-2\">  ${renderItem.lang} </li>\r\n                    <li class=\"me-2\">建立者 : ${userName} </li>\r\n                </ul>\r\n            </div>`;\r\n        }\r\n\r\n\r\n        btnBoxStr = `\r\n        <a href=\"${renderItem.url}\" target=\"_blank\" type=\"button\" class=\"btn btn-sm btn-secondary my-2 text-white px-lg-4 py-2 fs-6\">前往資源</a>\r\n        <div class=\"d-flex justify-content-center flex-row flex-md-column flex-lg-row align-items-center\">                    \r\n            <a href=\"#\" role=\"button\" class=\"d-flex align-items-center me-2 \">\r\n                <span class=\"material-icons \">bookmark_border</span>\r\n                <!-- <span class=\"material-icons\">bookmark</span> -->\r\n                <span>收藏</span>\r\n            </a>\r\n\r\n            <a href=\"#\" role=\"button\" class=\" d-flex align-items-center me-2 \">\r\n                <span class=\"material-icons material-icons-outlined\">feedback</span>\r\n                <!-- <span class=\"material-icons\">feedback</span> -->\r\n                <span>回報</span>\r\n            </a>\r\n        </div>`;\r\n\r\n        imageNBriefStr = `\r\n        <img class=\"d-md-block d-none\" src=\"${renderItem.imgUrl}\" alt=\"${renderItem.title}\">\r\n                    <div class=\"mt-md-3 text-dark\">${renderItem.intro}</div>`;\r\n        \r\n        \r\n        if(imageNBrief!==null){\r\n            imageNBrief.innerHTML = imageNBriefStr;\r\n        }\r\n        if(titleBox!==null){\r\n            titleBox.innerHTML = titleBoxStr;\r\n        }\r\n        if(btnBox!==null){\r\n            btnBox.innerHTML = btnBoxStr;\r\n        }\r\n\r\n    }\r\n   \r\n}\r\n\r\n\r\n/******************資源評論***********************/\r\n\r\nconst commentList=document.querySelector('.resourceComment > .commentList');\r\n\r\n\r\nfunction renderComment(){\r\n\r\n    let commentStr=\"\";\r\n    let userName =\"\";\r\n    // console.log(resourceCommentData)\r\n\r\n    if(resourceCommentData.length===0){\r\n        const btnReadMore = document.querySelector('.btnReadMore');\r\n        if(btnReadMore!==null){\r\n            btnReadMore.setAttribute(\"class\",\"d-none\");\r\n        }\r\n    }\r\n    //let resultScore = getAverageScore();\r\n    let commentNum = 0;\r\n    resourceCommentData.forEach(item=>{\r\n        let resultScore = {\r\n            \"1\":`${item.score}`\r\n        };\r\n        let newResultScoreOjb = combineCommentStar(resultScore);\r\n\r\n        if(item.user.role===\"admin\"){\r\n            userName = \"admin\"\r\n        }else{\r\n            userName =`${item.user.lastName} ${item.user.firstName} `;\r\n        }\r\n\r\n        \r\n        let commentTimeAge = Ftime(item.commentTime);\r\n        commentStr+=`\r\n        <div class=\"col mb-3 position-relatvie\" style=\"z-index:10;\">\r\n            <div class=\"card card-body position-relatvie\" style=\"z-index:10;\">\r\n                <div class=\"d-flex p-lg-3 align-items-lg-center flex-column flex-lg-row justify-content-between\"> \r\n                    <h3 class=\"card-title fs-7 d-flex align-items-center justify-content-lg-start justify-content-between\">\r\n                        <img class=\"rounded-circle\" src=\"./assets/images/icon_image.png\" alt=\"\">\r\n                        <p class=\"mb-0 mx-2 text-start\">\r\n                            ${userName}<br/>\r\n                            <span class=\"fs-9 text-gray\">${item.user.title}</span>\r\n                        </p>\r\n                        \r\n                    </h3>\r\n                    <div class=\"d-flex flex-lg-column justify-content-between\">\r\n                        <ul class=\"card-text d-flex align-items-center lh-1\">\r\n                        ${newResultScoreOjb[1]}\r\n                        \r\n                        </ul> \r\n                        <p class=\"mb-0 text-end\">\r\n                            <span class=\"fs-9 text-gray\">${commentTimeAge}</span></p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"d-flex flex-column\">\r\n                    <div class=\"form-floating my-3\"> \r\n                        <p>${item.content}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-between fs-8\">\r\n                    <!-- like & dislike -->\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <a href=\"#\">\r\n                            <span class=\"material-icons-outlined fs-6\">thumb_up_alt</span></a>\r\n                        <span class=\"mx-2\">${item.likeNum}</span>\r\n                        <!-- <a href=\"#\">\r\n                        <span class=\"material-icons fs-6\">thumb_up_alt</span></a> -->\r\n\r\n                            <a href=\"#\">\r\n                            <span class=\"material-icons-outlined fs-6\">thumb_down_alt</span></a>\r\n                            <span class=\"mx-2\">${item.dislikeNum}</span>\r\n                            <!-- <a href=\"#\">\r\n                            <span class=\"material-icons fs-6\">thumb_down_alt</span></a> -->\r\n\r\n                    </div>\r\n\r\n                    <div class=\"position-relatvie\" >\r\n                        <a class=\"d-flex align-items-center\" data-bs-toggle=\"collapse\" href=\"#commentOffense${commentNum+1}\" role=\"button\" aria-expanded=\"false\" aria-controls=\"commentOffense\">\r\n                            <span class=\"material-icons-outlined\">report</span>\r\n                            <span>檢舉</span>\r\n                        </a>\r\n\r\n                        <div class=\"offenseItem border bg-light rounded-3 p-3 collapse position-absolute end-0\" id=\"commentOffense${commentNum+1}\" style=\"z-index:0;\">\r\n                            <div class=\"form-check\">\r\n                                <input class=\"form-check-input\" type=\"radio\" name=\"offenseItem\" id=\"offenseItem1\">\r\n                                <label class=\"form-check-label\" for=\"offenseItem1\">\r\n                                    偏離主題\r\n                                </label>\r\n                            </div>\r\n                            <div class=\"form-check\">\r\n                                <input class=\"form-check-input\" type=\"radio\" name=\"offenseItem\" id=\"offenseItem2\">\r\n                                <label class=\"form-check-label\" for=\"offenseItem2\">\r\n                                    垃圾內容及廣告宣傳\r\n                                </label>\r\n                            </div>\r\n                            <div class=\"form-check\">\r\n                                <input class=\"form-check-input\" type=\"radio\" name=\"offenseItem\" id=\"offenseItem3\">\r\n                                <label class=\"form-check-label\" for=\"offenseItem3\">\r\n                                    騷擾內容及不雅用語\r\n                                </label>\r\n                            </div>\r\n                            <button class=\"btn btn-primary btn-sm text-white\" type=\"submit\">送出</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div><!--end card-->\r\n        </div>`;\r\n\r\n        commentNum +=1;\r\n\r\n    })\r\n\r\n    if(commentList!==null){\r\n         commentList.innerHTML = commentStr;\r\n    }\r\n   \r\n\r\n}\r\n\r\n/******************相關資源***********************/\r\n\r\nconst relatedResource = document.querySelector('.relatedResource');\r\n\r\nfunction renderRelatedResource(){\r\n    let relatedStr=\"\";\r\n    let renderNum = 1;\r\n    \r\n    if(resourcesData!==undefined){\r\n        resourcesData.forEach(resItem=>{\r\n        let resultScore = getAverageScore();\r\n        let newResultScoreOjb = combineCommentStar(resultScore);\r\n        if(resourceContent.length!==0){\r\n            //console.log(resourceContent);\r\n            if(resItem.topics === resourceContent[0].topics \r\n                && resItem.id !== resourceContent[0].id){\r\n                renderNum +=1;   \r\n                if(renderNum <=5 ){\r\n                    if(resultScore[resItem.id]==undefined||newResultScoreOjb[resItem.id]==undefined){\r\n                        relatedStr+=`\r\n                        <div class=\"my-4\">\r\n                        <h4 class=\"fs-7\"><a href=\"./resource.html?id=${resItem.id}\" target=\"_blank\"> ${resItem.title}</a></h4>\r\n                            <div class=\"d-flex flex-wrap justify-content-start align-items-center\">\r\n                                <span class=\"fs-8 text-gray me-lg-2\">尚無評價</span>                           \r\n                            </div>\r\n                        </div>\r\n                        `;\r\n                    }else{\r\n                        relatedStr+=`\r\n                        <div class=\"my-4\">\r\n                        <h4 class=\"fs-7\"><a href=\"./resource.html?id=${resItem.id}\" target=\"_blank\"> ${resItem.title}</a></h4>\r\n                        <div class=\"d-flex flex-wrap justify-content-start align-items-center text-secondary\">\r\n                            <span class=\"fs-7 fw-bold me-lg-2\">${resultScore[resItem.id]}</span>\r\n                            <ul class=\"d-flex align-items-center lh-1 me-lg-2 \">\r\n                            ${newResultScoreOjb[resItem.id]}\r\n                            </ul>                                \r\n                        </div>\r\n                        </div>\r\n                        `;\r\n                    }\r\n                \r\n                    \r\n                } \r\n            }\r\n        }\r\n        \r\n        \r\n    })\r\n    }\r\n    \r\n\r\n    if(relatedResource!==null){\r\n        relatedResource.innerHTML = relatedStr;\r\n    }\r\n}","\n\n//1. 頁面初始化\nfunction initResourceList(){\n  getResourcesForResources();\n  getCommentData();\n  //changeResourceAverageScore();\n}\ninitResourceList();\n\n\n/*****************top ***************/\n\nconst bannerBlockTitle = document.querySelector('.bannerBlock > h2');\n\nif(resTopic!==undefined && bannerBlockTitle!==null){\n  bannerBlockTitle.textContent = resTopic;\n  // resourcesData.forEach(item=>{\n  //   console.log(resTopic)\n  //   if(item.topics == resTopic){\n      \n\n  //   }\n  // })\n\n}\n\n/*****************入門推薦 ***************/\n\nconst foundation1Basic = document.querySelector('#foundation1Basic > div.row');\nconst foundation2Free = document.querySelector('#foundation2Free > div.row');\nconst foundation3CN = document.querySelector('#foundation3CN > div.row');\n\nlet resourcesData = [];\nlet commentsData = [];\nlet thisTopicData = [];\n\n//2. 取得資料\nfunction getResourcesForResources(){\n  axios.get(`${url}/resources`)\n  .then(res=>{\n    //resourcesData = res.data;\n    //console.log(resTopic);\n    resourcesData = res.data.filter(item=>{\n      return item.topics == resTopic;\n    })\n    // thisTopicData = resourcesData.filter(item=>{\n    //   return item.topics == resTopic;\n    // })\n    //console.log(thisTopicData);\n    renderFoundationRecommond();\n    renderFilterResultList();\n\n  }).catch(error=>{\n    console.log(error);\n  })\n}\n\nfunction getCommentData(){\n  axios.get(`${url}/comments`)\n  .then(res=>{\n    commentsData = res.data; \n  }).catch(error=>{\n    console.log(error);\n  })\n}\n\n\n// function getTopicData(){\n//   thisTopicData = resourcesData.filter(item=>{\n//     return item.topics = resTopic;\n//   })\n// }\n\n//3. 渲染入門推薦資料\nfunction renderFoundationRecommond(){\n\n  let commentScoreNum = getAverageScore();\n  let resultScore = commentScoreNum[0];\n  let commentNum = commentScoreNum[1];\n  let starStr = combineCommentStar(resultScore); //newResultScore\n\n  let itemNum1 = 0;\n  let itemNum2 = 0;\n  let itemNum3 = 0;\n  let renderMaxNum = 5;\n  //組各tab render HTML\n  let basicStr =\"\";\n  let freeStr=\"\";\n  let cnStr=\"\";\n\n  resourcesData.forEach( (item,index)=>{\n    \n   \n      if(item.level === \"初階\"){\n        if(itemNum1 <renderMaxNum){\n           basicStr += combineResouorceItem(item,resultScore,starStr,commentNum);\n           itemNum1+=1;\n        }\n         \n      }\n      \n      if(item.price === \"免費\"){\n        if(itemNum2 <renderMaxNum){\n          freeStr += combineResouorceItem(item,resultScore,starStr,commentNum); \n          itemNum2+=1;\n        }\n         \n      }\n      \n      item.lang.forEach(langItem=>{\n        if(langItem === \"繁體中文\"){\n          if(itemNum3 <renderMaxNum){\n            cnStr += combineResouorceItem(item,resultScore,starStr,commentNum);\n            itemNum3+=1;\n          }\n          \n        }\n      })\n    \n  })\n\n  if(foundation1Basic!==null){\n    foundation1Basic.innerHTML = basicStr;\n  }\n  \n  if(foundation2Free!==null){\n    foundation2Free.innerHTML = freeStr;\n  }\n  \n  if(foundation3CN!==null){\n    foundation3CN.innerHTML = cnStr;\n  }\n}\n\n\nfunction getAverageScore(){\n\nlet scoreTotal = {};  //每筆資源評價 總分\nlet resourceIdObj = {}; //每筆資源評價 筆數\nlet resultScore = {};  //每筆資源 平均分數(星星數)\n\n  commentsData.forEach(item=>{\n      if(resourceIdObj[item.resourceId] === undefined){\n          resourceIdObj[item.resourceId] = 1;\n          scoreTotal[item.resourceId] = item.score;\n         \n      }else{\n          resourceIdObj[item.resourceId] +=1;\n          scoreTotal[item.resourceId] += item.score;\n          \n      }\n      resultScore[item.resourceId] = (scoreTotal[item.resourceId] /  resourceIdObj[item.resourceId]).toFixed(1);\n\n  })\n  // console.log(\"resourceIdObj\",resourceIdObj);\n  // console.log(\"scoreTotal\",scoreTotal);\n  // console.log(\"resultScore\",resultScore);\n  return [resultScore,resourceIdObj];\n}\n\n//4. 組星星字串\nfunction combineCommentStar(resultScore){\n  //評論分數+星星+筆數 HTML\n  let newResultScore = {...resultScore};\n  let resourceIdArr = Object.keys(newResultScore);  //['1, '2, '3'] \n  let scoreArr = Object.values(newResultScore); //['4.0', '3.3', '4.5' ,'2.8'] \n\n  scoreArr.forEach((item,index)=>{\n    let starStr=\"\"; //星星HTML String\n    //星星數\n    for(let i=1; i<=item[0] ;i++){\n      starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li>`;\n      newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n    }\n    \n    //半顆星星+空星星  \n      if(item[2]<=2){\n        for(let i=1; i<=(5-item[0]) ;i++){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li> `;\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n        }\n        \n      }else if(item[2] >=3 && item[2] <=7){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_half</span></li>`;\n          for(let i=1; i<=(5-item[0]-1) ;i++){\n            starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\n          }\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n       \n      }else if(item[2]>=8){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star</span></li`;\n        for(let i=1; i<=(5-item[0]-1) ;i++){\n          starStr+=`<li><span class=\"material-icons material-icons-sharp fs-8\">star_outline</span></li>`;\n          newResultScore[`${resourceIdArr[`${index}`]}`] = starStr;\n        }\n      }\n\n  })\n  return newResultScore;\n}\n\n//5. 入門推薦組單一資源項目html\nfunction combineResouorceItem(item,resultScore,starStr,commentNum){\n\n  if( item.imgUrl ===\"\"){\n    item.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\n  }\n\n  if(resultScore[item.id]===undefined || starStr[item.id]=== undefined || commentNum[item.id]=== undefined ){\n\n    return  `\n    <div class=\"col-lg-2 col-md-4 col-6\">\n    <div>\n        <p class=\"text-center\">\n            <a href=\"./resource.html?id=${item.id}\" target=\"_blank\">\n            <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"></a></p>\n        <div class=\"p-2\">\n            <h4 class=\"fs-7 ellipsis\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"> ${item.title}</a></h4>\n            <div class=\"d-flex flex-wrap justify-content-between align-items-center\">                             \n                <span class=\"fs-8 text-gray\"> 尚無評價 </span>\n            </div>\n  \n        </div>\n    </div>\n    </div>\n    `;\n  }else{\n    return  `\n      <div class=\"col-lg-2 col-md-4 col-6\">\n      <div>\n          <p class=\"text-center\">\n              <a href=\"./resource.html?id=${item.id}\" target=\"_blank\">\n              <img src=\"${item.imgUrl}\" alt=\"${item.title}\" onerror=\"this.src=./assets/images/resources_cover/noimgCover.jpg\"></a></p>\n          <div class=\"p-2\">\n              <h4 class=\"fs-7 ellipsis\"><a href=\"./resource.html?id=${item.id}\" target=\"_blank\"> ${item.title}</a></h4>\n\n              <div class=\"d-flex flex-wrap justify-content-between align-items-center text-secondary\">\n                  <span class=\"fs-7 fw-bold me-lg-2\"> ${resultScore[item.id]}</span>\n                  <ul class=\"d-flex align-items-center lh-1 me-lg-2\">\n                  ${starStr[item.id]}\n                  </ul>                                \n                  <span class=\"fs-8\">(${commentNum[item.id]})</span>\n              </div>\n\n          </div>\n      </div>\n      </div>\n      `;\n  }\n      \n}\n\n/***************** 相關主題 ***************/\n\n\n\n/***************** 資源篩選 ***************/\n\nconst resourceItem = document.querySelector('.resourceItem');\nconst filterItemInput = document.querySelectorAll('.filterItem > input');  \n\nlet checkObj={};\nlet renderList=[];\n\n// checked 監聽 : 取得 checked 清單的關鍵字 + render\nfilterItemInput.forEach((item,index)=>{\n\n  item.addEventListener(\"change\",e=>{\n    let filterKeyword = item.getAttribute(\"name\");\n    let groupName = item.getAttribute(\"data-group\");\n    console.log(filterKeyword,groupName);\n\n    if (e.target.checked) {\n      if(checkObj[groupName]===undefined){\n        checkObj[groupName]=[];\n        checkObj[groupName].push(filterKeyword);\n      }else{\n        checkObj[groupName].push(filterKeyword);\n      }\n    }else {\n        checkObj[groupName] = checkObj[groupName].filter(item=>{\n          return filterKeyword !=item;\n        })  \n        if(checkObj[groupName].length===0){\n          delete checkObj[groupName];\n        }\n    }\n\n    //  console.log(\"checkObj\");\n    //  console.log(checkObj);\n\n    renderList = resourcesData.filter(resItem=>{\n      \n      let hasType = true ;  \n      let hasLevel =true;\n      let hasPrice =true;\n      let checkLang = true;\n  \n      if(checkObj.type){\n        hasType = checkObj.type.includes(resItem.type);\n      }\n      if(checkObj.level){\n        hasLevel = checkObj.level.includes(resItem.level);\n      }\n      if(checkObj.price){\n        hasPrice = checkObj.price.includes(resItem.price);\n      }\n  \n      checkLang = resItem.lang.some((str) => {\n        //console.log(str);\n        if (!checkObj.lang) {\n          return true;\n        }\n        return checkObj.lang.includes(str);\n      });\n  \n      return hasType && hasLevel && hasPrice && checkLang ;\n  \n    })\n    // console.log(renderList);\n    renderFilterResultList(); \n\n  })\n})\n\n\n\nfunction renderFilterResultList(){ \n\n  let commentScoreNum = getAverageScore();\n  let resultScore = commentScoreNum[0];\n  let commentNum = commentScoreNum[1];\n  let starStr = combineCommentStar(resultScore);\n\n    let renderfilterStr=\"\";\n    if(renderList.length===0){\n      resourcesData.forEach(renderItem=>{\n        renderfilterStr += combineResouorceItemType2(renderItem,resultScore,starStr,commentNum);\n      })\n\n      if(resultNumber!==undefined){\n        resultNumber.setAttribute(\"class\",\"d-none\");\n      }\n      if(clearBtnText!==undefined){\n        clearBtnText.setAttribute(\"class\",\"d-none\");\n      }\n      \n\n      if(checkObj.type !== undefined || checkObj.level !== undefined || checkObj.price !== undefined || checkObj.lang !== undefined ){\n        renderfilterStr = \"沒有符合條件的項目\";\n      }\n    }else{\n      if(resultNumber!==undefined){\n         resultNumber.setAttribute(\"class\",\"d-inline-block\");\n          resultNumber.textContent = `${renderList.length} 個篩選結果`;\n      }\n      if(clearBtnText!==undefined){\n        clearBtnText.setAttribute(\"class\",\"d-inline-block\");\n      }\n      \n    \n      if(checkObj.type==undefined && checkObj.level==undefined && checkObj.price==undefined && checkObj.lang==undefined ){\n        resultNumber.setAttribute(\"class\",\"d-none\");\n        clearBtnText.setAttribute(\"class\",\"d-none\");\n      }\n\n      clearFilter();\n      \n\n      renderList.forEach(renderItem=>{\n        renderfilterStr += combineResouorceItemType2(renderItem,resultScore,starStr,commentNum);\n      })\n    }\n\n    if(resourceItem!==null){\n      resourceItem.innerHTML = renderfilterStr;\n    }\n}\n\n\nfunction combineResouorceItemType2(renderItem,resultScore,starStr,commentNum){\n  if( renderItem.imgUrl ===\"\"){\n    renderItem.imgUrl = \"./assets/images/resources_cover/noimgCover.jpg\";\n  }\n\n  if(resultScore[renderItem.id]===undefined || starStr[renderItem.id]=== undefined || commentNum[renderItem.id]=== undefined ){\n    return `<div class=\"row my-3 \">\n    <div class=\"col-2 \">\n      <a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\"><img src=\"${renderItem.imgUrl}\" alt=\"${renderItem.title}\"></a>\n    </div>\n      <div class=\"col-6\">\n          <h4 class=\"fs-7\"><a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\">${renderItem.title}</a></h4>\n          <div class=\"d-flex flex-wrap align-items-center\">\n              <span class=\"fs-8 text-gray fw-bold me-lg-2\"> 尚無評價</span>\n              <p class=\"text-dark fs-8\" >test:${renderItem.type}, ${renderItem.level} , ${renderItem.price}, ${renderItem.lang} </p>\n          </div>\n      </div>\n      <div class=\"col-4\">\n          <div class=\"d-flex flex-column flex-lg-row  align-items-end\">\n              <a href=\"${renderItem.url}\" target=\"_blank\" role=\"button\" class=\"btn btn-tiffany my-2 w-75 mx-2\">前往資源</a>\n              <a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\" role=\"button\" class=\"btn btn-yellowBrown my-2 w-75 mx-2\">查看內容</a>\n          </div>\n      </div>\n    </div>`;\n  }else{\n    return `<div class=\"row my-3 \">\n  <div class=\"col-2 \">\n     <a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\"><img src=\"${renderItem.imgUrl}\" alt=\"${renderItem.title}\"></a>  \n  </div>\n    <div class=\"col-6\">\n     <h4 class=\"fs-7\"><a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\">${renderItem.title}</a></h4>\n        <div class=\"d-flex flex-wrap align-items-center text-secondary\">\n            <span class=\"fs-7 fw-bold me-lg-2\"> ${resultScore[renderItem.id]}</span>\n            <ul class=\"d-flex align-items-center lh-1 me-lg-2  \">\n            ${starStr[renderItem.id]}\n            </ul>                                \n            <span class=\"fs-8\">(${commentNum[renderItem.id]})</span>\n            <p class=\"text-dark fs-8\">test ${renderItem.type}, ${renderItem.level} , ${renderItem.price}, ${renderItem.lang} </p>\n        </div>\n    </div>\n    <div class=\"col-4\">\n        <div class=\"d-flex flex-column flex-lg-row  align-items-end\">\n          <a href=\"${renderItem.url}\" target=\"_blank\" role=\"button\" class=\"btn btn-tiffany my-2 w-75 mx-2\">前往資源</a>\n          <a href=\"./resource.html?id=${renderItem.id}\" target=\"_blank\" role=\"button\" class=\"btn btn-yellowBrown my-2 w-75 mx-2\">查看內容</a>\n        </div>  \n    </div>\n  </div>\n      `;\n  }\n  \n}\n\n\n\n/***************** n 筆結果 / 清除篩選 / 排序 ***************/\n\nconst resultNumber = document.querySelector('.resultNumber');\nconst clearBtnText = document.querySelector('.clearBtnText');\nconst clearFilterBtn = document.querySelector('#clearFilterBtn');\nconst resourceSort = document.querySelector('#resourceSort');\n\nfunction clearFilter(){\n  clearFilterBtn.addEventListener(\"click\",e=>{\n    if(checkObj.type){\n      delete checkObj.type;\n    }\n    if(checkObj.level){\n      delete checkObj.level;\n    }\n    if(checkObj.price){\n      delete checkObj.price;\n    }\n    if(checkObj.lang){\n      delete checkObj.lang;\n    }\n    filterItemInput.forEach(item=>{\n      item.checked = false;\n    })\n    renderFilterResultList();\n    console.log(\"click check\");\n    console.log(checkObj);\n  })\n  \n}\n\n\n\n\n","//  Unix时间戳转换为当前时间多久之前\r\n//  @param timespan  int         Unix时间戳\r\n//  @return timeSpanStr  string      转换之后的前台需要的字符串\r\n//  https://beltxman.com/1576.html\r\n\r\n// console.log(Ftime (1670564031));\r\n\r\nfunction Ftime (timespan) {\r\n    var dateTime = new Date(timespan * 1000);\r\n    var year = dateTime.getFullYear();\r\n    var month = dateTime.getMonth() + 1;\r\n    var day = dateTime.getDate();\r\n    var hour = dateTime.getHours();\r\n    var minute = dateTime.getMinutes();\r\n    //当前时间\r\n    var now = Date.parse(new Date());  //typescript转换写法\r\n    var milliseconds = 0;\r\n    var timeSpanStr;\r\n    //计算时间差\r\n    milliseconds = (now / 1000) - timespan;\r\n\r\n    //一分钟以内\r\n    if (milliseconds <= 60) {\r\n        timeSpanStr = '剛剛';\r\n    }\r\n    //大于一分钟小于一小时\r\n    else if (60 < milliseconds && milliseconds <= 60 * 60) {\r\n        timeSpanStr = Math.ceil((milliseconds / (60))) + '分鐘前';\r\n    }\r\n    //大于一小时小于等于一天\r\n    else if (60 * 60 < milliseconds && milliseconds <= 60 * 60 * 24) {\r\n        timeSpanStr = Math.ceil(milliseconds / (60 * 60)) + '小時前';\r\n    }\r\n    //大于一天小于等于15天\r\n    else if (60 * 60 * 24 < milliseconds && milliseconds <= 60 * 60 * 24 * 30) {\r\n        timeSpanStr = Math.ceil(milliseconds / (60 * 60 * 24)) + '天前';\r\n    }\r\n    //大于一个月小于一年\r\n    else if (60 * 60 * 24 * 30 < milliseconds && milliseconds <= 60 * 60 * 24 * 30 * 12){\r\n        timeSpanStr = Math.ceil(milliseconds / (60 * 60 * 24 * 30)) + '個月前';\r\n    }\r\n    //超过一年显示\r\n    else {\r\n        timeSpanStr = year + '年' + month + '月' + day + '日 ' + hour + ':' + minute;   \r\n    }\r\n    return timeSpanStr;\r\n}"]}